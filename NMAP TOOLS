#!/bin/bash

# Nmap Helper Tool - Advanced Version (SUCEDDIN Edition)
# ðŸ”¥ Prepared by: SUCEDDIN ðŸ”¥

# RÉ™nglÉ™r
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

# Auto Banner
clear
echo -e "${YELLOW}========================================="
echo -e "      ðŸš€ NMAP ADVANCED HELPER TOOL"
echo -e "=========================================${NC}"

# IP Validation Function
validate_ip() {
  local ip=$1
  if [[ $ip =~ ^([0-9]{1,3}\.){3}[0-9]{1,3}$ ]]; then
    for part in ${ip//./ }; do
      if ((part < 0 || part > 255)); then
        return 1
      fi
    done
    return 0
  fi
  return 1
}

# Log qovluÄŸu
LOG_DIR="logs"
mkdir -p $LOG_DIR

while true; do
  echo -e "${GREEN}Æn Ã§ox istifadÉ™ olunan 15 Nmap É™mri:${NC}"
  echo "1) Ping scan (host up)"
  echo "2) Full port scan"
  echo "3) Fast scan"
  echo "4) Service & version"
  echo "5) OS detection"
  echo "6) Aggressive scan"
  echo "7) Script scan"
  echo "8) Stealth SYN scan"
  echo "9) UDP scan"
  echo "10) Top 100 ports"
  echo "11) Vulnerability scan"
  echo "12) Firewall bypass"
  echo "13) Traceroute scan"
  echo "14) Output to file"
  echo "15) DNS brute force"
  echo "0) Ã‡Ä±xÄ±ÅŸ"

  read -p "Æmri seÃ§ (0-15): " choice

  if [[ "$choice" == "0" ]]; then
    echo -e "${RED}Ã‡Ä±xÄ±lÄ±r...${NC}"
    exit 0
  fi

  read -p "IP vÉ™ ya domain (bir neÃ§É™ IP boÅŸluqla ayÄ±r): " target_list

  for target in $target_list; do

    if [[ $target =~ ^([0-9]{1,3}\.){3}[0-9]{1,3}$ ]]; then
      if ! validate_ip $target; then
        echo -e "${RED}XÉ™ta: DÃ¼zgÃ¼n IP deyil â†’ $target${NC}"
        continue
      fi
    fi

    echo -e "${YELLOW}Scan baÅŸlayÄ±r â†’ $target${NC}"

    case $choice in
      1) nmap -sn $target ;;
      2) nmap -p- $target ;;
      3) nmap -F $target ;;
      4) nmap -sV $target ;;
      5) nmap -O $target ;;
      6) nmap -A $target ;;
      7) nmap -sC $target ;;
      8) nmap -sS $target ;;
      9) nmap -sU $target ;;
      10) nmap --top-ports 100 $target ;;
      11) nmap --script vulners $target ;;
      12) nmap -f $target ;;
      13) nmap --traceroute $target ;;
      14)
        read -p "Fayl adÄ±: " file
        nmap -A $target -oN $file
      ;;
      15) nmap --script dns-brute $target ;;
      *) echo -e "${RED}YanlÄ±ÅŸ seÃ§im!${NC}" ;;
    esac

    timestamp=$(date +"%Y-%m-%d_%H-%M-%S")
    logfile="$LOG_DIR/scan_${target}_$timestamp.log"

    echo -e "${YELLOW}NÉ™ticÉ™lÉ™r log faylÄ±na yazÄ±lÄ±r â†’ $logfile${NC}"

    echo "========================================" >> $logfile
    echo "SCAN TARGET: $target" >> $logfile
    echo "DATE: $(date)" >> $logfile
    echo "COMMAND: seÃ§ilÉ™n â†’ $choice" >> $logfile
    echo "========================================" >> $logfile
    echo "" >> $logfile

    case $choice in
      1) nmap -sn $target >> $logfile ;;
      2) nmap -p- $target >> $logfile ;;
      3) nmap -F $target >> $logfile ;;
      4) nmap -sV $target >> $logfile ;;
      5) nmap -O $target >> $logfile ;;
      6) nmap -A $target >> $logfile ;;
      7) nmap -sC $target >> $logfile ;;
      8) nmap -sS $target >> $logfile ;;
      9) nmap -sU $target >> $logfile ;;
      10) nmap --top-ports 100 $target >> $logfile ;;
      11) nmap --script vulners $target >> $logfile ;;
      12) nmap -f $target >> $logfile ;;
      13) nmap --traceroute $target >> $logfile ;;
      14) nmap -A $target >> $logfile ;;
      15) nmap --script dns-brute $target >> $logfile ;;
    esac

    echo -e "${GREEN}Scan bitdi â†’ $target${NC}"
    echo
  done

done
